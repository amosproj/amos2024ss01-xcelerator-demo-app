<ix-content>
	<ix-content-header
		slot="header"
		[headerTitle]="'Details of Facility ' + facility.heading"
		headerSubtitle="On this page you can see all our data about this facility"
		hasBackButton="true"
		(backButtonClick)="_location.back()"
	>
	</ix-content-header>

	<div class="details-container">
		<div class="details-grid gap-x-6 gap-y-4 pb-12">
			<lib-chart
				[data]="pumpData"
				[title]="'Pump Data'"
				[yname]="'Flow'"
				[color]="'#07dbc7'"
			></lib-chart>

			<lib-chart
				[data]="envData"
				[title]="'Environment Data'"
				[yname]="'Humidity'"
				[color]="'#07a307'"
			></lib-chart>

			<ix-card variant="insight" class="h-full w-full p-4">
				<ix-card-content>
					<ix-card-title>
						<ix-icon class="icon" name="tasks-open" size="32"></ix-icon>
						<span class="notification text-2xl">3</span>
					</ix-card-title>
					<ix-typography color="std" format="h4"> Open Cases </ix-typography>
					<ix-typography color="std">
						There are 3 open cases regarding this facility
					</ix-typography>
					<div class="mt-auto p-2">
						<ix-button routerLink="/cases/create"> New Case </ix-button>
					</div>
				</ix-card-content>
			</ix-card>

			<ix-card variant="insight" class="h-full w-full p-4">
				<ix-card-content>
					<ix-card-title>
						<ix-icon
							class="icon"
							[name]="(locked$ | async) ? 'lock-filled' : 'unlock-filled'"
							size="32"
						></ix-icon>
					</ix-card-title>
					<ix-typography color="std" format="h4">
						{{ (locked$ | async)? 'Unlock the doors' : 'Lock the doors' }}
					</ix-typography>
					<ix-typography color="std">
						{{ (locked$ | async) ? 'Currently the doors are locked' : 'Currently the
						doors are unlocked' }}
					</ix-typography>

					<div class="mt-auto p-2">
						<ix-button (click)="changeLocked()">
							{{ (locked$ | async)? 'Unlock the doors' : 'Lock the doors' }}
						</ix-button>
					</div>
				</ix-card-content>
			</ix-card>

			<ix-card variant="insight" class="h-full w-full p-4">
				<ix-card-content>
					<ix-card-title>
						<ix-icon class="icon" name="earth-filled" size="32"></ix-icon>
						<span class="notification text-2xl">80%</span>
					</ix-card-title>
					<ix-typography color="std" format="h4"> Eco Score (SiGreen)</ix-typography>
					<ix-typography color="std">
						According to SiGreen this facility has an eco score of 80%
					</ix-typography>
				</ix-card-content>
			</ix-card>
		</div>

		<div class="tile-container">
			<ix-tile size="big" class="mr-1">
				<div class="mt-4" slot="header">{{ facility.heading }}</div>
				<div class="mt-7 text-l">{{ facility.subheading }}</div>
			</ix-tile>

			<ix-tile class="mt-2" size="small">Location: {{ facility.location }}</ix-tile>
			<ix-tile class="mt-2" size="small">Number of pumps: {{ facility.pumps }}</ix-tile>
		</div>
	</div>
</ix-content>
