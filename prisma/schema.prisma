generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model TimeSeriesItem {
    entityId        String //Example: Pump-002 - id
    propertySetName String //Example: Environment | PumpData

    data TimeSeriesDataItem[]

    @@id([entityId, propertySetName])
    @@unique([entityId, propertySetName])
}

model TimeSeriesDataItem {
    time DateTime
    data Json?

    // Foreign keys
    timeSeriesItementityId        String
    timeSeriesItempropertySetName String
    timeSeriesItem                TimeSeriesItem @relation(fields: [timeSeriesItementityId, timeSeriesItempropertySetName], references: [entityId, propertySetName])

    @@id([timeSeriesItementityId, timeSeriesItempropertySetName, time])
}
